/*
*jQuery sliderrr v1.1
*http://zxcvbnmnbvcxz.com
*
*Copyright 2013, kenta toshikura
*
*the MIT license.
*http://www.opensource.org/licenses/mit-license.php 
*/

;(function(a){a.fn.sliderrr=function(l){var k=this;var n=a.extend({ease:"ease",auto:false,interval:3000,perspective:1000,key:true,eachspeed:true,speed:500,control:true,responsive:false,selector:"#container",prev:"<",next:">",slideprev:"#prevbtn",slidenext:"#nextbtn"},l);a.support.transform=typeof a("body").css("transform")==="string";a.support.transition=typeof a("body").css("transitionProperty")==="string";var g=a(k),b=a(n.slidenext),e=a(n.slideprev),h=n.ease;f();if(n.responsive){var d=false;a(window).resize(function(){if(d!==false){clearTimeout(d)}d=setTimeout(function(){f("resizer")},200)})}function f(o){g.each(function(){var r=a(this).children(),q=r.last(),u=r.first(),p=r.size(),t=a(this).data("animate")||"slide";if(n.responsive){slideBdW=a(n.selector).width()}else{slideBdW=a(this).width()}slideBdH=a(this).height();if(t=="slide"){r.css({"float":"left",overflow:"hidden",display:"block",height:slideBdH,width:slideBdW});if(o!=="resizer"){if(p==2){q.clone().appendTo(this);u.clone().appendTo(this);p=4}a(this).prepend(q)}a(this).css({clear:"both",position:"absolute",left:-slideBdW,width:parseInt(slideBdW*p)})}else{if(t=="fade"||t=="flip"){r.css({position:"absolute",overflow:"hidden",display:"block",height:slideBdH,width:slideBdW});var s=r.toArray().reverse();a(this).empty().append(s);if(t=="fade"){a(this).css({clear:"both",position:"relative",left:0,width:slideBdW})}else{a(this).css({clear:"both",position:"relative",perspective:n.perspective,left:0,width:slideBdW})}}}if(o=="resizer"){a(".slideArea").css({width:slideBdW})}else{if(t=="flip"){a(this).wrap('<div class="slideArea" style="position:relative; width:'+slideBdW+"px; height:"+slideBdH+'px "></div>')}else{a(this).wrap('<div class="slideArea" style="overflow:hidden; position:relative; width:'+slideBdW+"px; height:"+slideBdH+'px "></div>')}if(n.control){a(this).parent().append('<ul class="sr-pager"></ul>');a(this).parent().find(".sr-pager").append('<li class="sr-prev"><a>'+n.prev+"</a></li>");a(this).parent().find(".sr-pager").append('<li class="sr-next"><a>'+n.next+"</a></li>")}else{if(a(this).data("local-control")){a(this).parent().append('<ul class="sr-pager"></ul>');a(this).parent().find(".sr-pager").append('<li class="sr-prev"><a>'+n.prev+"</a></li>");a(this).parent().find(".sr-pager").append('<li class="sr-next"><a>'+n.next+"</a></li>")}}}})}if(n.auto){setInterval(function(){if(a.support.transition){i()}else{gonext()}},3000)}function m(q,o,r,s,u,t){if(q>2){if(a.support.transition){if(t=="slide"){if(!o.is(".na")){o.addClass("na").css({left:parseInt(o.css("left"))-u+"px",transition:"left "+s/1000+"s "+h});var p=o.children().first();o.one("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(){p.appendTo(o);o.removeClass("na").css({left:-u+"px","transition-duration":"0s"})})}}else{if(t=="fade"){r.last().css({opacity:0,transition:"opacity "+s/1000+"s "+h});r.last().one("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(){r.last().prependTo(o);r.first().css({opacity:1,"transition-duration":"0s"})})}else{if(t=="flip"){r.last().css({"transform-origin":"center center",transition:"all 0s"});r.last().css({transform:"rotateY(90deg)","transform-origin":"center center",transition:"all "+s/1000+"s "+h});r.last().one("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(){r.last().prependTo(o);r.first().css({transform:"rotateY(0deg)","transform-origin":"center center",transition:"all 0s"})})}}}}else{if(t=="slide"){o.not(":animated").animate({left:parseInt(o.css("left"))-u+"px"},s,function(){o.css("left",-u);o.children().first().appendTo(o)})}else{if(t=="fade"||t=="flip"){r.last().not(":animated").animate({opacity:0},s,function(){r.first().css({opacity:1});r.last().prependTo(o)})}}}}}function j(q,o,r,s,u,t){if(q>2){if(a.support.transition){if(t=="slide"){if(!o.is(".na")){o.addClass("na").css({left:parseInt(o.css("left"))+u+"px",transition:"left "+s/1000+"s "+h});var p=o.children().last();o.one("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(){p.prependTo(o);o.removeClass("na").css({left:-u+"px","transition-duration":"0s"})})}}else{if(t=="fade"){r.first().css({opacity:1,"transition-duration":"0s"});r.not(":first").css({opacity:0,transition:"opacity "+s/1000+"s "+h});r.not(":first").one("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(){r.not(":first").prependTo(o);r.not(":first").css({opacity:1,"transition-duration":"0s"})})}else{if(t=="flip"){r.first().css({transform:"rotateY(0deg)","transform-origin":"center center",transition:"all 0s"});r.not(":first").css({transform:"rotateY(-90deg)","transform-origin":"center center",transition:"all "+s/1000+"s "+h});r.not(":first").one("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(){r.not(":first").prependTo(o);r.not(":first").css({transform:"rotateY(0deg)","transform-origin":"center center",transition:"all 0s"})})}}}}else{if(t=="slide"){o.not(":animated").animate({left:parseInt(o.css("left"))+u+"px"},s,function(){o.children().last().prependTo(o);o.css("left",-u+"px")})}else{if(t=="fade"||t=="flip"){r.first().css({opacity:1,"transition-duration":"0s"});r.not(":first").animate({opacity:0},s,function(){r.not(":first").prependTo(o);r.not(":first").css({opacity:1})})}}}}}a(document).on("click",".sr-next",function(){var t=a(this).parent(".sr-pager").prev();var p=t,r=p.children(),q=r.size(),o=p.width(),v=parseInt(o/q),u=p.data("animate")||"slide";if(n.eachspeed){if(Number(p.data("speed"))){var s=Number(p.data("speed"))}else{var s=n.speed}}else{var s=n.speed}m(q,p,r,s,v,u)});a(document).on("click",".sr-prev",function(){var t=a(this).parent(".sr-pager").prev();var p=t,r=p.children(),q=r.size(),o=p.width(),v=parseInt(o/q),u=p.data("animate")||"slide";if(n.eachspeed){if(Number(p.data("speed"))){var s=Number(p.data("speed"))}else{var s=n.speed}}else{var s=n.speed}j(q,p,r,s,v,u)});if(n.key){a(document).keydown(function(o){if(o.keyCode==39){i()}if(o.keyCode==37){c()}})}b.click(function(){i()});e.click(function(){c()});function i(){g.each(function(){var p=a(this),r=p.children(),q=r.size(),o=p.width(),u=parseInt(o/q),t=p.data("animate")||"slide";if(n.eachspeed){if(Number(p.data("speed"))){var s=Number(p.data("speed"))}else{var s=n.speed}}else{var s=n.speed}m(q,p,r,s,u,t)})}function c(){g.each(function(){var p=a(this),s=p.data("speed"),r=p.children(),q=r.size(),o=p.width(),u=parseInt(o/q),t=p.data("animate")||"slide";if(n.eachspeed){if(Number(p.data("speed"))){var s=Number(p.data("speed"))}else{var s=n.speed}}else{var s=n.speed}j(q,p,r,s,u,t)})}return k}})(jQuery);